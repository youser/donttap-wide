import   "e896de80a33cd7de679c6d900dd952fc:@swc/helpers";
var $e896de80a33cd7de679c6d900dd952fc$var$appDiv = document.getElementById('app');
var $e896de80a33cd7de679c6d900dd952fc$var$canvasDiv = document.getElementById('canvas');
var $e896de80a33cd7de679c6d900dd952fc$var$ctx = $e896de80a33cd7de679c6d900dd952fc$var$canvasDiv.getContext('2d');
var $e896de80a33cd7de679c6d900dd952fc$var$h = 4;
var $e896de80a33cd7de679c6d900dd952fc$var$w = 4;
var $e896de80a33cd7de679c6d900dd952fc$var$bColor = '#ff0107';
var $e896de80a33cd7de679c6d900dd952fc$var$fColor = '#f1f7ff';
var $e896de80a33cd7de679c6d900dd952fc$var$aColor = '#000107';
var $e896de80a33cd7de679c6d900dd952fc$var$cellSize = 100;
if (window.innerWidth < 446) $e896de80a33cd7de679c6d900dd952fc$var$cellSize = 72;
else if (window.innerWidth > 1024) $e896de80a33cd7de679c6d900dd952fc$var$cellSize = 128;
var $e896de80a33cd7de679c6d900dd952fc$var$bSize = 1;
$e896de80a33cd7de679c6d900dd952fc$var$canvasDiv.height = $e896de80a33cd7de679c6d900dd952fc$var$h * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
$e896de80a33cd7de679c6d900dd952fc$var$canvasDiv.width = $e896de80a33cd7de679c6d900dd952fc$var$w * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
function $e896de80a33cd7de679c6d900dd952fc$var$renderSquare(x, y, cColor) {
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillStyle = cColor;
    var rX = y * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
    var rY = x * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillRect(rY, rX, $e896de80a33cd7de679c6d900dd952fc$var$cellSize, $e896de80a33cd7de679c6d900dd952fc$var$cellSize);
}
function $e896de80a33cd7de679c6d900dd952fc$var$render(param, param1) {
    var _bColor = param === void 0 ? $e896de80a33cd7de679c6d900dd952fc$var$bColor : param, _fColor = param1 === void 0 ? $e896de80a33cd7de679c6d900dd952fc$var$fColor : param1;
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillStyle = _bColor;
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillRect(0, 0, ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) * $e896de80a33cd7de679c6d900dd952fc$var$h + $e896de80a33cd7de679c6d900dd952fc$var$bSize, ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) * $e896de80a33cd7de679c6d900dd952fc$var$w + $e896de80a33cd7de679c6d900dd952fc$var$bSize);
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillStyle = _fColor;
    for(var y = 0; y < $e896de80a33cd7de679c6d900dd952fc$var$h; ++y)for(var x = 0; x < $e896de80a33cd7de679c6d900dd952fc$var$w; ++x){
        var rX = y * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
        var rY = x * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize;
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.fillRect(rY, rX, $e896de80a33cd7de679c6d900dd952fc$var$cellSize, $e896de80a33cd7de679c6d900dd952fc$var$cellSize);
    }
}
function $e896de80a33cd7de679c6d900dd952fc$var$renderBorders(param) {
    var sColor = param === void 0 ? $e896de80a33cd7de679c6d900dd952fc$var$bColor : param;
    $e896de80a33cd7de679c6d900dd952fc$var$ctx.strokeStyle = sColor;
    for(var x = 0; x <= $e896de80a33cd7de679c6d900dd952fc$var$w; ++x){
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.moveTo(x * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + 0.5, 0);
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.lineTo(x * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + 0.5, $e896de80a33cd7de679c6d900dd952fc$var$h * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize);
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.stroke();
    }
    for(var y = 0; y <= $e896de80a33cd7de679c6d900dd952fc$var$h; ++y){
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.moveTo(0, y * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + 0.5);
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.lineTo($e896de80a33cd7de679c6d900dd952fc$var$w * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + $e896de80a33cd7de679c6d900dd952fc$var$bSize, y * ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize) + 0.5);
        $e896de80a33cd7de679c6d900dd952fc$var$ctx.stroke();
    }
}
var $e896de80a33cd7de679c6d900dd952fc$var$speed = 0;
var $e896de80a33cd7de679c6d900dd952fc$var$clicks = 0;
var $e896de80a33cd7de679c6d900dd952fc$var$misses = 0;
var $e896de80a33cd7de679c6d900dd952fc$var$accuracy = 1;
var $e896de80a33cd7de679c6d900dd952fc$var$breakPoint = 4;
var $e896de80a33cd7de679c6d900dd952fc$var$missStreak = 0;
var $e896de80a33cd7de679c6d900dd952fc$var$state = 'STOP';
var $e896de80a33cd7de679c6d900dd952fc$var$clock = 0;
var $e896de80a33cd7de679c6d900dd952fc$var$startTime = new Date();
var $e896de80a33cd7de679c6d900dd952fc$var$clickTime = $e896de80a33cd7de679c6d900dd952fc$var$startTime;
var $e896de80a33cd7de679c6d900dd952fc$var$clockDiv = document.getElementById('clock');
var $e896de80a33cd7de679c6d900dd952fc$var$infoDiv = document.getElementById('information');
var $e896de80a33cd7de679c6d900dd952fc$var$timer = -1;
var $e896de80a33cd7de679c6d900dd952fc$var$gameMap = [];
function $e896de80a33cd7de679c6d900dd952fc$var$textNumber(number) {
    tNumber = String(Math.round(number * 100) / 100);
    if (tNumber.slice(-2, -1) == '.') tNumber += '0';
    if (tNumber.slice(-3, -2) != '.') tNumber += '.00';
    return tNumber;
}
function $e896de80a33cd7de679c6d900dd952fc$var$gameover() {
    $e896de80a33cd7de679c6d900dd952fc$var$state = 'GAMEOVER';
    clearTimeout($e896de80a33cd7de679c6d900dd952fc$var$timer);
    $e896de80a33cd7de679c6d900dd952fc$var$clock = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$clockDiv.classList.add('gameover');
    $e896de80a33cd7de679c6d900dd952fc$var$render($e896de80a33cd7de679c6d900dd952fc$var$bColor, $e896de80a33cd7de679c6d900dd952fc$var$aColor);
}
function $e896de80a33cd7de679c6d900dd952fc$var$run() {
    if ($e896de80a33cd7de679c6d900dd952fc$var$state != 'RUNNING') return;
    $e896de80a33cd7de679c6d900dd952fc$var$speed = $e896de80a33cd7de679c6d900dd952fc$var$clock ? $e896de80a33cd7de679c6d900dd952fc$var$clicks / $e896de80a33cd7de679c6d900dd952fc$var$clock : 0;
    $e896de80a33cd7de679c6d900dd952fc$var$accuracy = $e896de80a33cd7de679c6d900dd952fc$var$clicks ? $e896de80a33cd7de679c6d900dd952fc$var$clicks / ($e896de80a33cd7de679c6d900dd952fc$var$clicks + $e896de80a33cd7de679c6d900dd952fc$var$misses) : 1;
    var tSpeed = $e896de80a33cd7de679c6d900dd952fc$var$textNumber($e896de80a33cd7de679c6d900dd952fc$var$speed);
    var tClicks = String($e896de80a33cd7de679c6d900dd952fc$var$clicks);
    var tAccuracy = $e896de80a33cd7de679c6d900dd952fc$var$textNumber($e896de80a33cd7de679c6d900dd952fc$var$accuracy);
    $e896de80a33cd7de679c6d900dd952fc$var$infoDiv.textContent = "".concat(tSpeed, " / ").concat(tClicks, " / ").concat(tAccuracy);
    $e896de80a33cd7de679c6d900dd952fc$var$clock = (new Date() - $e896de80a33cd7de679c6d900dd952fc$var$startTime) / 1000;
    if ($e896de80a33cd7de679c6d900dd952fc$var$clock > 0) $e896de80a33cd7de679c6d900dd952fc$var$clockDiv.textContent = $e896de80a33cd7de679c6d900dd952fc$var$textNumber($e896de80a33cd7de679c6d900dd952fc$var$clock);
    else $e896de80a33cd7de679c6d900dd952fc$var$clockDiv.textContent = '0.00';
    if ((new Date() - $e896de80a33cd7de679c6d900dd952fc$var$clickTime) / 1000 > 8) $e896de80a33cd7de679c6d900dd952fc$var$gameover();
    else setTimeout($e896de80a33cd7de679c6d900dd952fc$var$run, 0);
}
var $e896de80a33cd7de679c6d900dd952fc$var$activeCells = 3;
function $e896de80a33cd7de679c6d900dd952fc$var$start() {
    $e896de80a33cd7de679c6d900dd952fc$var$clockDiv.classList.remove('gameover');
    $e896de80a33cd7de679c6d900dd952fc$var$gameMap = [];
    for(var y = 0; y < $e896de80a33cd7de679c6d900dd952fc$var$h; ++y)for(var x = 0; x < $e896de80a33cd7de679c6d900dd952fc$var$w; ++x)$e896de80a33cd7de679c6d900dd952fc$var$gameMap.push("".concat(x, ".").concat(y));
    $e896de80a33cd7de679c6d900dd952fc$var$render();
    for(var i = 0; i < $e896de80a33cd7de679c6d900dd952fc$var$activeCells; ++i){
        var index = Math.floor(Math.random() * $e896de80a33cd7de679c6d900dd952fc$var$gameMap.length);
        var cell = $e896de80a33cd7de679c6d900dd952fc$var$gameMap[index];
        var ref = $e896de80a33cd7de679c6d900dd952fc$import$585280336a2bc659$28fbc1c1f80cc2b(cell.split('.'), 2), x1 = ref[0], y1 = ref[1];
        $e896de80a33cd7de679c6d900dd952fc$var$renderSquare(x1, y1, $e896de80a33cd7de679c6d900dd952fc$var$aColor);
        $e896de80a33cd7de679c6d900dd952fc$var$gameMap.splice(index, 1);
    }
    $e896de80a33cd7de679c6d900dd952fc$var$speed = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$clicks = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$misses = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$missStreak = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$accuracy = 1;
    $e896de80a33cd7de679c6d900dd952fc$var$clock = 0;
    $e896de80a33cd7de679c6d900dd952fc$var$startTime = new Date();
    $e896de80a33cd7de679c6d900dd952fc$var$clickTime = $e896de80a33cd7de679c6d900dd952fc$var$startTime;
    $e896de80a33cd7de679c6d900dd952fc$var$state = 'RUNNING';
    $e896de80a33cd7de679c6d900dd952fc$var$run();
}
function $e896de80a33cd7de679c6d900dd952fc$var$hit(event) {
    $e896de80a33cd7de679c6d900dd952fc$var$clicks += 1;
    if ($e896de80a33cd7de679c6d900dd952fc$var$state == 'RUNNING') {
        var x2 = event.offsetX;
        var y2 = event.offsetY;
        if (x2 == 0 || y2 == 0 || x2 == this.width || y2 == this.height) {
            $e896de80a33cd7de679c6d900dd952fc$var$misses += 1;
            $e896de80a33cd7de679c6d900dd952fc$var$missStreak += 1;
        } else {
            var cellX = Math.floor((x2 - x2 % ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize)) / $e896de80a33cd7de679c6d900dd952fc$var$cellSize);
            var cellY = Math.floor((y2 - y2 % ($e896de80a33cd7de679c6d900dd952fc$var$cellSize + $e896de80a33cd7de679c6d900dd952fc$var$bSize)) / $e896de80a33cd7de679c6d900dd952fc$var$cellSize);
            if ($e896de80a33cd7de679c6d900dd952fc$var$gameMap.includes("".concat(cellX, ".").concat(cellY)) || cellY >= $e896de80a33cd7de679c6d900dd952fc$var$h || cellX >= $e896de80a33cd7de679c6d900dd952fc$var$w) {
                $e896de80a33cd7de679c6d900dd952fc$var$misses += 1;
                $e896de80a33cd7de679c6d900dd952fc$var$missStreak += 1;
            } else {
                $e896de80a33cd7de679c6d900dd952fc$var$missStreak = 0;
                $e896de80a33cd7de679c6d900dd952fc$var$renderSquare(cellX, cellY, $e896de80a33cd7de679c6d900dd952fc$var$fColor);
                {
                    var index = Math.floor(Math.random() * $e896de80a33cd7de679c6d900dd952fc$var$gameMap.length);
                    var cell = $e896de80a33cd7de679c6d900dd952fc$var$gameMap[index];
                    var ref = $e896de80a33cd7de679c6d900dd952fc$import$585280336a2bc659$28fbc1c1f80cc2b(cell.split('.'), 2), x3 = ref[0], y3 = ref[1];
                    $e896de80a33cd7de679c6d900dd952fc$var$renderSquare(x3, y3, $e896de80a33cd7de679c6d900dd952fc$var$aColor);
                    $e896de80a33cd7de679c6d900dd952fc$var$gameMap.splice(index, 1);
                }
                $e896de80a33cd7de679c6d900dd952fc$var$gameMap.push("".concat(cellX, ".").concat(cellY));
            }
        }
        $e896de80a33cd7de679c6d900dd952fc$var$clickTime = new Date();
        if ($e896de80a33cd7de679c6d900dd952fc$var$missStreak >= $e896de80a33cd7de679c6d900dd952fc$var$breakPoint) $e896de80a33cd7de679c6d900dd952fc$var$gameover();
    } else $e896de80a33cd7de679c6d900dd952fc$var$start();
    if (window.getSelection) window.getSelection().removeAllRanges();
    else if (document.selection) document.selection.empty();
}
$e896de80a33cd7de679c6d900dd952fc$var$render($e896de80a33cd7de679c6d900dd952fc$var$bColor, $e896de80a33cd7de679c6d900dd952fc$var$aColor);
$e896de80a33cd7de679c6d900dd952fc$var$canvasDiv.addEventListener('mousedown', $e896de80a33cd7de679c6d900dd952fc$var$hit);
$e896de80a33cd7de679c6d900dd952fc$var$canvasDiv.addEventListener('contextmenu', function(e) {
    e.preventDefault();
    return false;
});
