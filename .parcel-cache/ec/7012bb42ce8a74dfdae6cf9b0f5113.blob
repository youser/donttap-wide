!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}document.getElementById("app");var t=document.getElementById("canvas"),n=t.getContext("2d"),o="#ff0107",i="#f1f7ff",r="#000107",c=100;function a(e,t,o){n.fillStyle=o;var i=t*(c+1)+1,r=e*(c+1)+1;n.fillRect(r,i,c,c)}function l(e,t){var r=void 0===e?o:e,a=void 0===t?i:t;n.fillStyle=r,n.fillRect(0,0,4*(c+1)+1,4*(c+1)+1),n.fillStyle=a;for(var l=0;l<4;++l)for(var d=0;d<4;++d){var u=l*(c+1)+1,f=d*(c+1)+1;n.fillRect(f,u,c,c)}}window.innerWidth<446?c=72:window.innerWidth>1024&&(c=128),t.height=4*(c+1)+1,t.width=4*(c+1)+1;var d=0,u=0,f=1,s=0,v="STOP",m=0,w=new Date,h=w,y=[],g=[],p=document.getElementById("clock"),N=document.getElementById("information");function b(e){return tNumber=String(Math.round(100*e)/100),"."==tNumber.slice(-2,-1)&&(tNumber+="0"),"."!=tNumber.slice(-3,-2)&&(tNumber+=".00"),tNumber}function E(){v="GAMEOVER",clearTimeout(-1),m=0,p.classList.add("gameover"),l(o,r)}function S(){if("RUNNING"==v){for(var e=new Date,t=0;t<y.length&&!((e-y[t])/1e3>10);++t);f=d?d/(d+u):1;var n=b(t/((m=(e-w)/1e3)<10?m||1:10)),o=String(d),i=b(f);N.textContent="".concat(n," / ").concat(o," / ").concat(i),p.textContent=m>0?b(m):"0.00",(e-h)/1e3>4?E():setTimeout(S,0)}}function I(){p.classList.remove("gameover"),g=[];for(var t=0;t<4;++t)for(var n=0;n<4;++n)g.push("".concat(n,".").concat(t));l();for(var o=0;o<3;++o){var i=Math.floor(Math.random()*g.length),c=e(g[i].split("."));a(c[0],c[1],r),g.splice(i,1)}0,d=0,u=0,s=0,f=1,m=0,w=new Date,h=w,y=[],v="RUNNING",S()}var M=new Audio("click.wav");M.volume=.2,l(o,r);var R=void 0,A=void 0;t.addEventListener("mousemove",(function(e){R=e.clientX,A=e.clientY})),t.addEventListener("mousedown",(function(t){if(d+=1,"RUNNING"==v){var n=t.offsetX,o=t.offsetY;if(0==n||0==o||n==this.width||o==this.height)u+=1,s+=1;else{var l=Math.floor((n-n%(c+1))/c),f=Math.floor((o-o%(c+1))/c);if(g.includes("".concat(l,".").concat(f))||f>=4||l>=4)u+=1,s+=1;else{s=0,a(l,f,i);var m=Math.floor(Math.random()*g.length),w=e(g[m].split("."));a(w[0],w[1],r),g.splice(m,1),g.push("".concat(l,".").concat(f)),M.pause(),M.currentTime=0,M.play()}}h=new Date,y.unshift(h),s>=4&&E()}else I();window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()})),t.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),document.body.addEventListener("keydown",(function(e){if(["Space","Escape"].includes(e.code))I();else if(["KeyZ","KeyX","KeyC","KeyV"].includes(e.code)){var n=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,clientX:R,clientY:A});t.dispatchEvent(n)}})),window.addEventListener("resize",(function(e){"RUNNING"!=v&&(c=100,window.innerWidth<446?c=72:window.innerWidth>1024&&(c=128),t.height=4*(c+1)+1,t.width=4*(c+1)+1,l(o,r))}))}();
//# sourceMappingURL=app.HASH_REF_0f41f029b5509d3a3182b0620385d74d.js.map
