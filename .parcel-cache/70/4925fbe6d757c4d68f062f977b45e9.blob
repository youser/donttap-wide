!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}document.getElementById("app");var t=document.getElementById("canvas"),n=t.getContext("2d"),o="#ff0107",r="#f1f7ff",i="#000107",c=100;function a(e,t,o){n.fillStyle=o;var r=t*(c+1)+1,i=e*(c+1)+1;n.fillRect(i,r,c,c)}function l(e,t){var i=void 0===e?o:e,a=void 0===t?r:t;n.fillStyle=i,n.fillRect(0,0,4*(c+1)+1,4*(c+1)+1),n.fillStyle=a;for(var l=0;l<4;++l)for(var s=0;s<4;++s){var u=l*(c+1)+1,f=s*(c+1)+1;n.fillRect(f,u,c,c)}}window.innerWidth<446?c=72:window.innerWidth>1024&&(c=128),t.height=4*(c+1)+1,t.width=4*(c+1)+1;var s=0,u=0,f=1,d=0,v="STOP",h=0,m=2,w=new Date,p=w,y=w,g=[],I=[],N=[],b=document.getElementById("clock"),E=document.getElementById("information"),S=-1;function L(e){return tNumber=String(Math.round(100*e)/100),"."==tNumber.slice(-2,-1)&&(tNumber+="0"),"."!=tNumber.slice(-3,-2)&&(tNumber+=".00"),tNumber}function R(){v="GAMEOVER",clearInterval(S),h=0,b.classList.add("gameover"),l(o,i)}function A(e,t,n){var o=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),i=parseInt(e.slice(5,7),16),c=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),l=parseInt(t.slice(5,7),16),s=parseInt(o+(c-o)*n).toString(16),u=parseInt(r+(a-r)*n).toString(16),f=parseInt(i+(l-i)*n).toString(16);return s=1==s.length?"0"+s:s,u=1==u.length?"0"+u:u,f=1==f.length?"0"+f:f,"#".concat(s).concat(u).concat(f)}function D(){if("RUNNING"==v){for(var t=new Date,n=0;n<g.length&&!((t-g[n])/1e3>10);++n);f=s?s/(s+u):1;var o=L(n/((h=(t-w)/1e3)<10?h||1:10)),c=String(s),l=L(f);E.textContent="".concat(o," / ").concat(c," / ").concat(l),b.textContent=h>0?L(h):"0.00";var d=!0,p=!1,I=void 0;if((t-y)/1e3>m)return R(),!1;try{for(var S,D=N[Symbol.iterator]();!(d=(S=D.next()).done);d=!0){var M=e(S.value.split("."));a(M[0],M[1],A(i,r,(t-y)/1e3/m))}}catch(e){p=!0,I=e}finally{try{d||null==D.return||D.return()}finally{if(p)throw I}}}}function M(){var t=Math.floor(Math.random()*I.length),n=I[t];N.push(n);var o=e(n.split("."));a(o[0],o[1],i),I.splice(t,1)}function x(){b.classList.remove("gameover"),I=[];for(var e=0;e<4;++e)for(var t=0;t<4;++t)I.push("".concat(t,".").concat(e));l(),N=[];for(var n=0;n<3;++n)M();0,s=0,u=0,d=0,f=1,h=0,m=2,w=new Date,p=w,y=w,g=[],v="RUNNING",S=setInterval(D,0)}var G=new Audio("click.wav");function O(e){if(s+=1,"RUNNING"==v){var n,o;if(e instanceof TouchEvent?(n=e.touches[0].clientX-t.offsetLeft,o=e.touches[0].clientY-t.offsetTop):(n=e.offsetX,o=e.offsetY),0==n||0==o||n==this.width||o==this.height)u+=1,d+=1;else{var i=Math.floor((n-n%(c+1))/c),l=Math.floor((o-o%(c+1))/c);I.includes("".concat(i,".").concat(l))||l>=4||i>=4?(u+=1,d+=1):(y=new Date,d=0,N.splice(N.indexOf("".concat(i,".").concat(l)),1),I.push("".concat(i,".").concat(l)),a(i,l,r),M(),G.pause(),G.currentTime=0,G.play())}p=new Date,g.unshift(p),d>=4&&R(),s%10==0&&(m*=.9966)}else x();window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}G.volume=.2,l(o,i);var T=void 0,X=void 0;t.addEventListener("mousemove",(function(e){T=e.clientX,X=e.clientY})),t.addEventListener("touchstart",(function(e){return O(e),e.preventDefault(),!1})),t.addEventListener("mousedown",O),t.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),document.body.addEventListener("keydown",(function(e){if(["Space","Escape"].includes(e.code))x();else if(["KeyZ","KeyX","KeyC","KeyV"].includes(e.code)){var n=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,clientX:T,clientY:X});t.dispatchEvent(n)}})),window.addEventListener("resize",(function(e){"RUNNING"!=v&&(c=100,window.innerWidth<446?c=72:window.innerWidth>1024&&(c=128),t.height=4*(c+1)+1,t.width=4*(c+1)+1,l(o,i))}))}();
//# sourceMappingURL=app.HASH_REF_0f41f029b5509d3a3182b0620385d74d.js.map
